!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1),n(5)},function(e,t,n){var a=n(2);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(4)(a,r);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"*{margin:0;padding:0;font-family:'Roboto', sans-serif;font-size:24px;user-select:none}body{display:flex;flex-direction:column;align-items:center;width:85%;margin:0 auto}body .text_area{width:80%;height:400px}body .keyboard{display:flex;flex-direction:column;align-items:center;width:100%}body .keyboard .row{display:flex;justify-content:center;width:80%}.key{display:flex;justify-content:center;align-items:center;margin:9px 7px;width:50px;height:45px;border-radius:7px;font-size:24px;transition:.2s all ease;background:#6094f3}.key:hover{cursor:pointer;background:#346bd1}.active_key{border-radius:20px;background:#346bd1}.Backspace,.ShiftLeft{width:120px}.Tab,.ControlLeft{width:85px}.Backslash{width:85px}.CapsLock{width:110px}.Enter{width:125px}.ShiftRight{width:115px}.Space{width:405px}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=(i=a,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(l," */")),o=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot).concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var i,c,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(a[o]=!0)}for(var i=0;i<e.length;i++){var c=e[i];null!=c[0]&&a[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="(".concat(c[2],") and (").concat(n,")")),t.push(c))}},t}},function(e,t,n){"use strict";var a,r={},o=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function c(e,t){for(var n=[],a={},r=0;r<e.length;r++){var o=e[r],i=t.base?o[0]+t.base:o[0],c={css:o[1],media:o[2],sourceMap:o[3]};a[i]?a[i].parts.push(c):n.push(a[i]={id:i,parts:[c]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var a=e[n],o=r[a.id],i=0;if(o){for(o.refs++;i<o.parts.length;i++)o.parts[i](a.parts[i]);for(;i<a.parts.length;i++)o.parts.push(g(a.parts[i],t))}else{for(var c=[];i<a.parts.length;i++)c.push(g(a.parts[i],t));r[a.id]={id:a.id,refs:1,parts:c}}}}function s(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var a=n.nc;a&&(e.attributes.nonce=a)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function p(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;if(r&&e.setAttribute("media",r),o&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var h=null,y=0;function g(e,t){var n,a,r;if(t.singleton){var o=y++;n=h||(h=s(t)),a=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=s(t),a=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e,t);return l(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var i=n[o],s=r[i.id];s&&(s.refs--,a.push(s))}e&&l(c(e,t),t);for(var u=0;u<a.length;u++){var d=a[u];if(0===d.refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete r[d.id]}}}}},function(e,t){const n=1,a=3,r=[["Backquote","`","~","ё","Ё"],["Digit1","1","!","1","!"],["Digit2","2","@","2",'"'],["Digit3","3","#","3","№"],["Digit4","4","$","4",";"],["Digit5","5","%","5","%"],["Digit6","6","^","6",":"],["Digit7","7","&","7","?"],["Digit8","8","*","8","*"],["Digit9","9","(","9","("],["Digit0","0",")","0",")"],["Minus","-","_","-","_"],["Equal","=","+","=","+"],["Backspace","Backspace","Backspace","Backspace","Backspace"]],o=[["Tab","Tab","Tab","Tab","Tab"],["KeyQ","q","Q","й","Й"],["KeyW","w","W","ц","Ц"],["KeyE","e","E","у","У"],["KeyR","r","R","к","К"],["KeyT","t","T","е","Е"],["KeyY","y","Y","н","Н"],["KeyU","u","U","г","Г"],["KeyI","i","I","ш","Ш"],["KeyO","o","O","щ","Щ"],["KeyP","p","P","з","З"],["BracketLeft","[","{","х","Х"],["BracketRight","]","}","ъ","Ъ"],["Backslash","\\","|","\\","/"]],i=[["CapsLock","CapsLock","CapsLock","CapsLock","CapsLock"],["KeyA","a","A","ф","Ф"],["KeyS","s","S","ы","Ы"],["KeyD","d","D","в","В"],["KeyF","f","F","а","А"],["KeyG","g","G","п","П"],["KeyH","h","H","р","Р"],["KeyJ","j","J","о","О"],["KeyK","k","K","л","Л"],["KeyL","l","L","д","Д"],["Semicolon",";",":","ж","Ж"],["Quotes","'",'"',"э","Э"],["Enter","Enter","Enter","Enter","Enter"]],c=[["ShiftLeft Shift","Shift","Shift","Shift","Shift"],["KeyZ","z","Z","я","Я"],["KeyX","x","X","ч","Ч"],["KeyC","c","C","с","С"],["KeyV","v","V","м","М"],["KeyB","b","B","и","И"],["KeyN","n","N","т","Т"],["KeyM","m","M","ь","Ь"],["Comma",",","<","б","Б"],["Period",".",">","ю","Ю"],["Slash","/","?",".",","],["ArrowUp","↑","↑","↑","↑"],["ShiftRight Shift","Shift","Shift","Shift","Shift"]],l=[r,o,i,c,[["ControlLeft Control","Ctrl","Ctrl","Ctrl","Ctrl"],["MetaLeft","Win","Win","Win","Win"],["AltLeft Alt","Alt","Alt","Alt","Alt"],["Space"," "," "," "," "],["AltRight Alt","Alt","Alt","Alt","Alt"],["ArrowLeft","←","←","←","←"],["ArrowDown","↓","↓","↓","↓"],["ArrowRight","→","→","→","→"],["ControlRight Control","Ctrl","Ctrl","Ctrl","Ctrl"]]];let s="",u=!1,d=!1;function f(e,t,n,a){let r=n?Number(localStorage.lang)+1:localStorage.lang;a&&(r=n?localStorage.lang:Number(localStorage.lang)+1),document.querySelector(`.${e}`).childNodes.forEach((e,n)=>{e.innerText=t[n][r]})}function p(e,t,l,p,h){switch(t.classList.add("active_key"),l){case"Backspace":s=h.start===h.end?e.value.slice(0,h.end-1):e.value.slice(0,h.start)+e.value.slice(h.end);break;case"Enter":s=e.value+"\n";break;case"Tab":s=e.value+"\t";break;case"CapsLock":d=!d;break;case"ShiftLeft":case"ShiftRight":"physical"===p&&(u=!0),"virtual"===p&&(u=!u);break;case"Space":s=e.value+" ";break;case"ControlLeft":case"ControlRight":case"AltLeft":case"AltRight":break;case"MetaLeft":localStorage.lang=localStorage.lang==n?a:n;break;default:"physical"===p&&(s=e.value+t.innerText),"virtual"===p&&(s=e.value+document.querySelector("."+l).innerText,u=!1,document.querySelectorAll(".Shift").forEach(e=>{e.classList.remove("active_key")}))}e.value=s,f("row1",r,u),f("row2",o,u,d),f("row3",i,u,d),f("row4",c,u,d)}void 0===localStorage.lang&&(localStorage.lang=n),window.onload=function(){let e=document.createElement("textarea"),t=document.createElement("div");document.body.append(e),document.body.append(t),e.className="text_area",t.className="keyboard",e.blur(),l.forEach((e,n)=>{let a=document.createElement("div");t.append(a),function(e,t,n){t.className=e+" row",n.forEach(e=>{let n=document.createElement("div");t.append(n),n.innerText=e[localStorage.lang],n.className=e[0]+" key"})}(`row${n+1}`,a,e)})},document.addEventListener("keydown",(function(e){let t=document.querySelector(".text_area"),n=document.querySelectorAll(".key");t.blur();let a={start:t.selectionStart,end:t.selectionEnd};n.forEach(n=>{if(n.className.includes(e.code)){let r=e.code;p(t,n,r,"physical",a)}})})),document.addEventListener("keyup",(function(e){document.querySelectorAll(".key").forEach(t=>{t.className.includes(e.code)&&t.classList.remove("active_key"),e.code.includes("Shift")&&(u=!1),e.code.includes("CapsLock")&&d&&t.querySelector(".CapsLock").classList.add("active_key")}),f("row1",r,u),f("row2",o,u,d),f("row3",i,u,d),f("row4",c,u,d)}));let h=document.querySelector("body");h.addEventListener("mousedown",(function(e){let t=document.querySelector(".text_area"),n=e.target.className.split(" ")[0];if(e.target.className.includes("key")&&"keyboard"!==e.target.className){let a="virtual",r={start:t.selectionStart,end:t.selectionEnd};p(t,e.target,n,a,r)}})),h.addEventListener("mouseup",(function(e){e.target.className.includes("key")&&"keyboard"!==e.target.className&&e.target.classList.remove("active_key"),u&&e.target.classList.add("active_key"),e.target.className.includes("CapsLock")&&d&&e.target.classList.add("active_key")}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuc2Nzcz8zN2ZmIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb250ZW50Iiwib3B0aW9ucyIsImxvY2FscyIsInB1c2giLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJjb25jYXQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiaWQiLCJfaSIsIm1lbW8iLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImxpc3RUb1N0eWxlcyIsInN0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJwYXJ0cyIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJqIiwicmVmcyIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsIm9iaiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwiX2RvbVN0eWxlIiwiRU5fTEFOR19JTkRFWCIsIlJVX0xBTkdfSU5ERVgiLCJST1cxIiwiUk9XMiIsIlJPVzMiLCJST1c0Iiwia2V5Ym9hcmRBcnIiLCJtc2ciLCJzaGlmdFN0YXRlIiwiY2Fwc1N0YXRlIiwiY2hhbmdlUmVnaXN0ZXIiLCJyb3dOYW1lIiwicm93VmFsdWUiLCJyZWdpc3RlckluZGV4IiwiTnVtYmVyIiwibG9jYWxTdG9yYWdlIiwibGFuZyIsImlubmVyVGV4dCIsInByaW50IiwiaW5wdXQiLCJrZXlWYWx1ZSIsImtleWJvYXJkVHlwZSIsInNlbGVjdGlvblRleHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzdGFydCIsImVuZCIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsImVsZW0iLCJ1bmRlZmluZWQiLCJvbmxvYWQiLCJ0ZXh0QXJlYSIsImtleWJvYXJkIiwiYm9keSIsImFwcGVuZCIsImNsYXNzTmFtZSIsImJsdXIiLCJyb3dBcnIiLCJyb3ciLCJyb3dXcmFwcGVyIiwiY3JlYXRlUm93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwicm93cyIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiaW5jbHVkZXMiLCJjb2RlIiwic3BsaXQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1D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bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XHJcbmltcG9ydCAnLi9zY3JpcHRzL2FwcC5qcyc7IiwidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuc2Nzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYgKGNvbnRlbnQubG9jYWxzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG59XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIip7bWFyZ2luOjA7cGFkZGluZzowO2ZvbnQtZmFtaWx5OidSb2JvdG8nLCBzYW5zLXNlcmlmO2ZvbnQtc2l6ZToyNHB4O3VzZXItc2VsZWN0Om5vbmV9Ym9keXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDo4NSU7bWFyZ2luOjAgYXV0b31ib2R5IC50ZXh0X2FyZWF7d2lkdGg6ODAlO2hlaWdodDo0MDBweH1ib2R5IC5rZXlib2FyZHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDoxMDAlfWJvZHkgLmtleWJvYXJkIC5yb3d7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6ODAlfS5rZXl7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbjo5cHggN3B4O3dpZHRoOjUwcHg7aGVpZ2h0OjQ1cHg7Ym9yZGVyLXJhZGl1czo3cHg7Zm9udC1zaXplOjI0cHg7dHJhbnNpdGlvbjouMnMgYWxsIGVhc2U7YmFja2dyb3VuZDojNjA5NGYzfS5rZXk6aG92ZXJ7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDojMzQ2YmQxfS5hY3RpdmVfa2V5e2JvcmRlci1yYWRpdXM6MjBweDtiYWNrZ3JvdW5kOiMzNDZiZDF9LkJhY2tzcGFjZSwuU2hpZnRMZWZ0e3dpZHRoOjEyMHB4fS5UYWIsLkNvbnRyb2xMZWZ0e3dpZHRoOjg1cHh9LkJhY2tzbGFzaHt3aWR0aDo4NXB4fS5DYXBzTG9ja3t3aWR0aDoxMTBweH0uRW50ZXJ7d2lkdGg6MTI1cHh9LlNoaWZ0UmlnaHR7d2lkdGg6MTE1cHh9LlNwYWNle3dpZHRoOjQwNXB4fVxcblwiLCBcIlwiXSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIntcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tfaV07IC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcbiAgICAgIC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG4gICAgICAvLyB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG4gICAgICAvLyBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cbiAgICAgIGlmIChpdGVtWzBdID09IG51bGwgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiKFwiLmNvbmNhdChpdGVtWzJdLCBcIikgYW5kIChcIikuY29uY2F0KG1lZGlhUXVlcnksIFwiKVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290KS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZXMgPSBbXTtcbiAgdmFyIG5ld1N0eWxlcyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY3NzID0gaXRlbVsxXTtcbiAgICB2YXIgbWVkaWEgPSBpdGVtWzJdO1xuICAgIHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuICAgIHZhciBwYXJ0ID0ge1xuICAgICAgY3NzOiBjc3MsXG4gICAgICBtZWRpYTogbWVkaWEsXG4gICAgICBzb3VyY2VNYXA6IHNvdXJjZU1hcFxuICAgIH07XG5cbiAgICBpZiAoIW5ld1N0eWxlc1tpZF0pIHtcbiAgICAgIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcGFydHM6IFtwYXJ0XVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXTtcbiAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcbiAgICB2YXIgaiA9IDA7XG5cbiAgICBpZiAoZG9tU3R5bGUpIHtcbiAgICAgIGRvbVN0eWxlLnJlZnMrKztcblxuICAgICAgZm9yICg7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICg7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgICAgZm9yICg7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIHJlZnM6IDEsXG4gICAgICAgIHBhcnRzOiBwYXJ0c1xuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBvcHRpb25zLmF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhvcHRpb25zLmF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIG9wdGlvbnMuYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmF0dHJpYnV0ZXMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAnb2JqZWN0JyA/IG9wdGlvbnMuYXR0cmlidXRlcyA6IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG4gIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIHZhciBtYXlSZW1vdmUgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXTtcbiAgICAgIHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG4gICAgICBpZiAoZG9tU3R5bGUpIHtcbiAgICAgICAgZG9tU3R5bGUucmVmcy0tO1xuICAgICAgICBtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld0xpc3QpIHtcbiAgICAgIHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgICBhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtYXlSZW1vdmUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2RvbVN0eWxlID0gbWF5UmVtb3ZlW19pXTtcblxuICAgICAgaWYgKF9kb21TdHlsZS5yZWZzID09PSAwKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX2RvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgX2RvbVN0eWxlLnBhcnRzW2pdKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgc3R5bGVzSW5Eb21bX2RvbVN0eWxlLmlkXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59OyIsImNvbnN0IEVOX0xBTkdfSU5ERVggPSAxO1xyXG5jb25zdCBSVV9MQU5HX0lOREVYID0gMztcclxuXHJcbmNvbnN0IFJPVzEgPSBbXHJcbiAgICBbJ0JhY2txdW90ZScsICdgJywgJ34nLCAn0ZEnLCAn0IEnXSxcclxuICAgIFsnRGlnaXQxJywgJzEnLCAnIScsICcxJywgJyEnXSxcclxuICAgIFsnRGlnaXQyJywgJzInLCAnQCcsICcyJywgJ1wiJ10sXHJcbiAgICBbJ0RpZ2l0MycsICczJywgJyMnLCAnMycsICfihJYnXSxcclxuICAgIFsnRGlnaXQ0JywgJzQnLCAnJCcsICc0JywgJzsnXSxcclxuICAgIFsnRGlnaXQ1JywgJzUnLCAnJScsICc1JywgJyUnXSxcclxuICAgIFsnRGlnaXQ2JywgJzYnLCAnXicsICc2JywgJzonXSxcclxuICAgIFsnRGlnaXQ3JywgJzcnLCAnJicsICc3JywgJz8nXSxcclxuICAgIFsnRGlnaXQ4JywgJzgnLCAnKicsICc4JywgJyonXSxcclxuICAgIFsnRGlnaXQ5JywgJzknLCAnKCcsICc5JywgJygnXSxcclxuICAgIFsnRGlnaXQwJywgJzAnLCAnKScsICcwJywgJyknXSxcclxuICAgIFsnTWludXMnLCAnLScsICdfJywgJy0nLCAnXyddLFxyXG4gICAgWydFcXVhbCcsICc9JywgJysnLCAnPScsICcrJ10sXHJcbiAgICBbJ0JhY2tzcGFjZScsICdCYWNrc3BhY2UnLCAnQmFja3NwYWNlJywgJ0JhY2tzcGFjZScsICdCYWNrc3BhY2UnXVxyXG5dXHJcbmNvbnN0IFJPVzIgPSBbXHJcbiAgICBbJ1RhYicsICdUYWInLCAnVGFiJywgJ1RhYicsICdUYWInXSxcclxuICAgIFsnS2V5UScsICdxJywgJ1EnLCAn0LknLCAn0JknXSxcclxuICAgIFsnS2V5VycsICd3JywgJ1cnLCAn0YYnLCAn0KYnXSxcclxuICAgIFsnS2V5RScsICdlJywgJ0UnLCAn0YMnLCAn0KMnXSxcclxuICAgIFsnS2V5UicsICdyJywgJ1InLCAn0LonLCAn0JonXSxcclxuICAgIFsnS2V5VCcsICd0JywgJ1QnLCAn0LUnLCAn0JUnXSxcclxuICAgIFsnS2V5WScsICd5JywgJ1knLCAn0L0nLCAn0J0nXSxcclxuICAgIFsnS2V5VScsICd1JywgJ1UnLCAn0LMnLCAn0JMnXSxcclxuICAgIFsnS2V5SScsICdpJywgJ0knLCAn0YgnLCAn0KgnXSxcclxuICAgIFsnS2V5TycsICdvJywgJ08nLCAn0YknLCAn0KknXSxcclxuICAgIFsnS2V5UCcsICdwJywgJ1AnLCAn0LcnLCAn0JcnXSxcclxuICAgIFsnQnJhY2tldExlZnQnLCAnWycsICd7JywgJ9GFJywgJ9ClJ10sXHJcbiAgICBbJ0JyYWNrZXRSaWdodCcsICddJywgJ30nLCAn0YonLCAn0KonXSxcclxuICAgIFsnQmFja3NsYXNoJywgJ1xcXFwnLCAnfCcsICdcXFxcJywgJy8nXVxyXG5dXHJcblxyXG5jb25zdCBST1czID0gW1xyXG4gICAgWydDYXBzTG9jaycsICdDYXBzTG9jaycsICdDYXBzTG9jaycsICdDYXBzTG9jaycsICdDYXBzTG9jayddLFxyXG4gICAgWydLZXlBJywgJ2EnLCAnQScsICfRhCcsICfQpCddLFxyXG4gICAgWydLZXlTJywgJ3MnLCAnUycsICfRiycsICfQqyddLFxyXG4gICAgWydLZXlEJywgJ2QnLCAnRCcsICfQsicsICfQkiddLFxyXG4gICAgWydLZXlGJywgJ2YnLCAnRicsICfQsCcsICfQkCddLFxyXG4gICAgWydLZXlHJywgJ2cnLCAnRycsICfQvycsICfQnyddLFxyXG4gICAgWydLZXlIJywgJ2gnLCAnSCcsICfRgCcsICfQoCddLFxyXG4gICAgWydLZXlKJywgJ2onLCAnSicsICfQvicsICfQniddLFxyXG4gICAgWydLZXlLJywgJ2snLCAnSycsICfQuycsICfQmyddLFxyXG4gICAgWydLZXlMJywgJ2wnLCAnTCcsICfQtCcsICfQlCddLFxyXG4gICAgWydTZW1pY29sb24nLCAnOycsICc6JywgJ9C2JywgJ9CWJ10sXHJcbiAgICBbJ1F1b3RlcycsICdcXCcnLCAnXCInLCAn0Y0nLCAn0K0nXSxcclxuICAgIFsnRW50ZXInLCAnRW50ZXInLCAnRW50ZXInLCAnRW50ZXInLCAnRW50ZXInXVxyXG5dXHJcblxyXG5jb25zdCBST1c0ID0gW1xyXG4gICAgWydTaGlmdExlZnQgU2hpZnQnLCAnU2hpZnQnLCAnU2hpZnQnLCAnU2hpZnQnLCAnU2hpZnQnXSxcclxuICAgIFsnS2V5WicsICd6JywgJ1onLCAn0Y8nLCAn0K8nXSxcclxuICAgIFsnS2V5WCcsICd4JywgJ1gnLCAn0YcnLCAn0KcnXSxcclxuICAgIFsnS2V5QycsICdjJywgJ0MnLCAn0YEnLCAn0KEnXSxcclxuICAgIFsnS2V5VicsICd2JywgJ1YnLCAn0LwnLCAn0JwnXSxcclxuICAgIFsnS2V5QicsICdiJywgJ0InLCAn0LgnLCAn0JgnXSxcclxuICAgIFsnS2V5TicsICduJywgJ04nLCAn0YInLCAn0KInXSxcclxuICAgIFsnS2V5TScsICdtJywgJ00nLCAn0YwnLCAn0KwnXSxcclxuICAgIFsnQ29tbWEnLCAnLCcsICc8JywgJ9CxJywgJ9CRJ10sXHJcbiAgICBbJ1BlcmlvZCcsICcuJywgJz4nLCAn0Y4nLCAn0K4nXSxcclxuICAgIFsnU2xhc2gnLCAnLycsICc/JywgJy4nLCAnLCddLFxyXG4gICAgWydBcnJvd1VwJywgJ+KGkScsICfihpEnLCAn4oaRJywgJ+KGkSddLFxyXG4gICAgWydTaGlmdFJpZ2h0IFNoaWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0J11cclxuXVxyXG5cclxuY29uc3QgUk9XNSA9IFtcclxuICAgIFsnQ29udHJvbExlZnQgQ29udHJvbCcsICdDdHJsJywgJ0N0cmwnLCAnQ3RybCcsICdDdHJsJ10sXHJcbiAgICBbJ01ldGFMZWZ0JywgJ1dpbicsICdXaW4nLCAnV2luJywgJ1dpbiddLFxyXG4gICAgWydBbHRMZWZ0IEFsdCcsICdBbHQnLCAnQWx0JywgJ0FsdCcsICdBbHQnXSxcclxuICAgIFsnU3BhY2UnLCAnICcsICcgJywgJyAnLCAnICddLFxyXG4gICAgWydBbHRSaWdodCBBbHQnLCAnQWx0JywgJ0FsdCcsICdBbHQnLCAnQWx0J10sXHJcbiAgICBbJ0Fycm93TGVmdCcsICfihpAnLCAn4oaQJywgJ+KGkCcsICfihpAnXSxcclxuICAgIFsnQXJyb3dEb3duJywgJ+KGkycsICfihpMnLCAn4oaTJywgJ+KGkyddLFxyXG4gICAgWydBcnJvd1JpZ2h0JywgJ+KGkicsICfihpInLCAn4oaSJywgJ+KGkiddLFxyXG4gICAgWydDb250cm9sUmlnaHQgQ29udHJvbCcsICdDdHJsJywgJ0N0cmwnLCAnQ3RybCcsICdDdHJsJ11cclxuXVxyXG5cclxuY29uc3Qga2V5Ym9hcmRBcnIgPSBbUk9XMSwgUk9XMiwgUk9XMywgUk9XNCwgUk9XNV07XHJcblxyXG5sZXQgbXNnID0gJyc7XHJcbmxldCBzaGlmdFN0YXRlID0gZmFsc2U7XHJcbmxldCBjYXBzU3RhdGUgPSBmYWxzZTtcclxuXHJcbmlmIChsb2NhbFN0b3JhZ2UubGFuZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2UubGFuZyA9IEVOX0xBTkdfSU5ERVg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcktleWJvYXJkKCkge1xyXG4gICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG4gICAgICAgIGxldCBrZXlib2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRleHRBcmVhKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChrZXlib2FyZCk7XHJcbiAgICAgICAgdGV4dEFyZWEuY2xhc3NOYW1lID0gJ3RleHRfYXJlYSc7XHJcbiAgICAgICAga2V5Ym9hcmQuY2xhc3NOYW1lID0gJ2tleWJvYXJkJztcclxuXHJcbiAgICAgICAgdGV4dEFyZWEuYmx1cigpO1xyXG5cclxuICAgICAgICBrZXlib2FyZEFyci5mb3JFYWNoKChyb3dBcnIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAga2V5Ym9hcmQuYXBwZW5kKHJvdyk7XHJcbiAgICAgICAgICAgIGNyZWF0ZVJvdyhgcm93JHtpbmRleCArIDF9YCwgcm93LCByb3dBcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVJvdyhyb3dOYW1lLCByb3dXcmFwcGVyLCByb3dWYWx1ZSkge1xyXG4gICAgcm93V3JhcHBlci5jbGFzc05hbWUgPSByb3dOYW1lICsgJyByb3cnO1xyXG4gICAgcm93VmFsdWUuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICBsZXQga2V5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcm93V3JhcHBlci5hcHBlbmQoa2V5KTtcclxuICAgICAgICBrZXkuaW5uZXJUZXh0ID0gZWxlbVtsb2NhbFN0b3JhZ2UubGFuZ107XHJcbiAgICAgICAga2V5LmNsYXNzTmFtZSA9IGVsZW1bMF0gKyAnIGtleSc7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlUmVnaXN0ZXIocm93TmFtZSwgcm93VmFsdWUsIHNoaWZ0U3RhdGUsIGNhcHNTdGF0ZSkge1xyXG4gICAgbGV0IHJlZ2lzdGVySW5kZXggPSBzaGlmdFN0YXRlID8gTnVtYmVyKGxvY2FsU3RvcmFnZS5sYW5nKSArIDEgOiBsb2NhbFN0b3JhZ2UubGFuZztcclxuICAgIGlmIChjYXBzU3RhdGUpIHtcclxuICAgICAgICByZWdpc3RlckluZGV4ID0gc2hpZnRTdGF0ZSA/IGxvY2FsU3RvcmFnZS5sYW5nIDogTnVtYmVyKGxvY2FsU3RvcmFnZS5sYW5nKSArIDE7XHJcbiAgICB9XHJcbiAgICBsZXQgcm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cm93TmFtZX1gKTtcclxuICAgIHJvdy5jaGlsZE5vZGVzLmZvckVhY2goKGtleSwgaW5kZXgpID0+IHtcclxuICAgICAgICBrZXkuaW5uZXJUZXh0ID0gcm93VmFsdWVbaW5kZXhdW3JlZ2lzdGVySW5kZXhdO1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gcHJpbnQoaW5wdXQsIGtleSwga2V5VmFsdWUsIGtleWJvYXJkVHlwZSwgc2VsZWN0aW9uVGV4dCkge1xyXG4gICAga2V5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZV9rZXknKTtcclxuXHJcbiAgICBzd2l0Y2ggKGtleVZhbHVlKSB7XHJcbiAgICAgICAgY2FzZSAnQmFja3NwYWNlJzpcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblRleHQuc3RhcnQgPT09IHNlbGVjdGlvblRleHQuZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBtc2cgPSBpbnB1dC52YWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25UZXh0LmVuZCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbXNnID0gaW5wdXQudmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uVGV4dC5zdGFydCkgKyBpbnB1dC52YWx1ZS5zbGljZShzZWxlY3Rpb25UZXh0LmVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnRW50ZXInOlxyXG4gICAgICAgICAgICBtc2cgPSBpbnB1dC52YWx1ZSArICdcXG4nO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdUYWInOlxyXG4gICAgICAgICAgICBtc2cgPSBpbnB1dC52YWx1ZSArICdcXHQnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdDYXBzTG9jayc6XHJcbiAgICAgICAgICAgIGNhcHNTdGF0ZSA9ICFjYXBzU3RhdGU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1NoaWZ0TGVmdCc6XHJcbiAgICAgICAgY2FzZSAnU2hpZnRSaWdodCc6XHJcbiAgICAgICAgICAgIGlmIChrZXlib2FyZFR5cGUgPT09ICdwaHlzaWNhbCcpIHtcclxuICAgICAgICAgICAgICAgIHNoaWZ0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChrZXlib2FyZFR5cGUgPT09ICd2aXJ0dWFsJykge1xyXG4gICAgICAgICAgICAgICAgc2hpZnRTdGF0ZSA9ICFzaGlmdFN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1NwYWNlJzpcclxuICAgICAgICAgICAgbXNnID0gaW5wdXQudmFsdWUgKyAnICc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0NvbnRyb2xMZWZ0JzpcclxuICAgICAgICBjYXNlICdDb250cm9sUmlnaHQnOlxyXG4gICAgICAgIGNhc2UgJ0FsdExlZnQnOlxyXG4gICAgICAgIGNhc2UgJ0FsdFJpZ2h0JzpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnTWV0YUxlZnQnOlxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UubGFuZyA9IGxvY2FsU3RvcmFnZS5sYW5nID09IEVOX0xBTkdfSU5ERVggPyBSVV9MQU5HX0lOREVYIDogRU5fTEFOR19JTkRFWDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgaWYgKGtleWJvYXJkVHlwZSA9PT0gJ3BoeXNpY2FsJykge1xyXG4gICAgICAgICAgICAgICAgbXNnID0gaW5wdXQudmFsdWUgKyBrZXkuaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChrZXlib2FyZFR5cGUgPT09ICd2aXJ0dWFsJykge1xyXG4gICAgICAgICAgICAgICAgbXNnID0gaW5wdXQudmFsdWUgKyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGtleVZhbHVlKS5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgICAgICBzaGlmdFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuU2hpZnQnKS5mb3JFYWNoKGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlX2tleScpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBpbnB1dC52YWx1ZSA9IG1zZztcclxuICAgIGNoYW5nZVJlZ2lzdGVyKCdyb3cxJywgUk9XMSwgc2hpZnRTdGF0ZSk7XHJcbiAgICBjaGFuZ2VSZWdpc3Rlcigncm93MicsIFJPVzIsIHNoaWZ0U3RhdGUsIGNhcHNTdGF0ZSk7XHJcbiAgICBjaGFuZ2VSZWdpc3Rlcigncm93MycsIFJPVzMsIHNoaWZ0U3RhdGUsIGNhcHNTdGF0ZSk7XHJcbiAgICBjaGFuZ2VSZWdpc3Rlcigncm93NCcsIFJPVzQsIHNoaWZ0U3RhdGUsIGNhcHNTdGF0ZSk7XHJcbn1cclxuXHJcbnJlbmRlcktleWJvYXJkKCk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBsZXQgdGV4dEFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dF9hcmVhJyk7XHJcbiAgICBsZXQgcm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5rZXknKTtcclxuICAgIHRleHRBcmVhLmJsdXIoKTtcclxuICAgIGxldCBzZWxlY3Rpb25UZXh0ID0ge1xyXG4gICAgICAgIHN0YXJ0OiB0ZXh0QXJlYS5zZWxlY3Rpb25TdGFydCxcclxuICAgICAgICBlbmQ6IHRleHRBcmVhLnNlbGVjdGlvbkVuZFxyXG4gICAgfVxyXG4gICAgcm93cy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgaWYgKGtleS5jbGFzc05hbWUuaW5jbHVkZXMoZXZlbnQuY29kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGtleVZhbHVlID0gZXZlbnQuY29kZTtcclxuICAgICAgICAgICAgbGV0IGtleWJvYXJkVHlwZSA9ICdwaHlzaWNhbCc7XHJcbiAgICAgICAgICAgIHByaW50KHRleHRBcmVhLCBrZXksIGtleVZhbHVlLCBrZXlib2FyZFR5cGUsIHNlbGVjdGlvblRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHJcbiAgICBsZXQgcm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5rZXknKTtcclxuICAgIHJvd3MuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmIChrZXkuY2xhc3NOYW1lLmluY2x1ZGVzKGV2ZW50LmNvZGUpKSB7XHJcbiAgICAgICAgICAgIGtleS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVfa2V5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5jb2RlLmluY2x1ZGVzKCdTaGlmdCcpKSB7XHJcbiAgICAgICAgICAgIHNoaWZ0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUuaW5jbHVkZXMoJ0NhcHNMb2NrJykgJiYgY2Fwc1N0YXRlKSB7XHJcbiAgICAgICAgICAgIGtleS5xdWVyeVNlbGVjdG9yKCcuQ2Fwc0xvY2snKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmVfa2V5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGNoYW5nZVJlZ2lzdGVyKCdyb3cxJywgUk9XMSwgc2hpZnRTdGF0ZSk7XHJcbiAgICBjaGFuZ2VSZWdpc3Rlcigncm93MicsIFJPVzIsIHNoaWZ0U3RhdGUsIGNhcHNTdGF0ZSk7XHJcbiAgICBjaGFuZ2VSZWdpc3Rlcigncm93MycsIFJPVzMsIHNoaWZ0U3RhdGUsIGNhcHNTdGF0ZSk7XHJcbiAgICBjaGFuZ2VSZWdpc3Rlcigncm93NCcsIFJPVzQsIHNoaWZ0U3RhdGUsIGNhcHNTdGF0ZSk7XHJcbn0pO1xyXG4gXHJcbmxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgbGV0IHRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRleHRfYXJlYScpO1xyXG4gICAgbGV0IHZhbHVlID0gZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5zcGxpdCgnICcpWzBdO1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc05hbWUuaW5jbHVkZXMoJ2tleScpICYmIGV2ZW50LnRhcmdldC5jbGFzc05hbWUgIT09ICdrZXlib2FyZCcpIHtcclxuICAgICAgICBsZXQga2V5Ym9hcmRUeXBlID0gJ3ZpcnR1YWwnO1xyXG4gICAgICAgIGxldCBzZWxlY3Rpb25UZXh0ID0ge1xyXG4gICAgICAgICAgICBzdGFydDogdGV4dEFyZWEuc2VsZWN0aW9uU3RhcnQsXHJcbiAgICAgICAgICAgIGVuZDogdGV4dEFyZWEuc2VsZWN0aW9uRW5kXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaW50KHRleHRBcmVhLCBldmVudC50YXJnZXQsIHZhbHVlLCBrZXlib2FyZFR5cGUsIHNlbGVjdGlvblRleHQpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc05hbWUuaW5jbHVkZXMoJ2tleScpICYmIGV2ZW50LnRhcmdldC5jbGFzc05hbWUgIT09ICdrZXlib2FyZCcpIHtcclxuICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlX2tleScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoaWZ0U3RhdGUpIHtcclxuICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlX2tleScpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc05hbWUuaW5jbHVkZXMoJ0NhcHNMb2NrJykgJiYgY2Fwc1N0YXRlKSB7XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZV9rZXknKTtcclxuICAgIH1cclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==